Em resumo, há 3 formas de se criar uma entrada de undo:

1) Quando um bloco clean (não sujo) é modificado;
2) Quando uma modificação comitted é modificada;
3) Quando um dado é encaminhado das caches privadas.